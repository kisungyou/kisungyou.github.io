<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-05-17">

<title>KY-글</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="KY-글">
<meta property="og:description" content="">
<meta property="og:site-name" content="Kisung You">
<meta name="twitter:title" content="KY-글">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@kisung_you">
<meta name="twitter:site" content="@kisung_you">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Kisung You</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../publication.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../software.html" rel="" target="">
 <span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog_kr.html" rel="" target="">
 <span class="menu-text">글</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#통계청의-미션과-데이터의-구조가-만나는-지점" id="toc-통계청의-미션과-데이터의-구조가-만나는-지점" class="nav-link active" data-scroll-target="#통계청의-미션과-데이터의-구조가-만나는-지점">통계청의 미션과 “데이터의 구조”가 만나는 지점</a></li>
  <li><a href="#왜-경제학-중심이-되었을까" id="toc-왜-경제학-중심이-되었을까" class="nav-link" data-scroll-target="#왜-경제학-중심이-되었을까">왜 “경제학 중심”이 되었을까?</a></li>
  <li><a href="#숫자는-선택의-산물" id="toc-숫자는-선택의-산물" class="nav-link" data-scroll-target="#숫자는-선택의-산물">숫자는 선택의 산물</a></li>
  <li><a href="#해외는-어떻게-리더십을-설계할까" id="toc-해외는-어떻게-리더십을-설계할까" class="nav-link" data-scroll-target="#해외는-어떻게-리더십을-설계할까">해외는 어떻게 리더십을 설계할까?</a></li>
  <li><a href="#잡종적-사고가-필요한-이유" id="toc-잡종적-사고가-필요한-이유" class="nav-link" data-scroll-target="#잡종적-사고가-필요한-이유">“잡종적 사고”가 필요한 이유</a></li>
  <li><a href="#통계청-개편-논의와-리더십의-방향" id="toc-통계청-개편-논의와-리더십의-방향" class="nav-link" data-scroll-target="#통계청-개편-논의와-리더십의-방향">통계청 개편 논의와 리더십의 방향</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">통계학자도, 데이터 과학자도 아닌 사람이 통계청장을 맡는 나라</h1>
  <div class="quarto-categories">
    <div class="quarto-category">생각</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p>통계는 <strong>결과</strong>가 아니라 <strong>선택</strong>의 산물이다.</p>
</blockquote>
<p>지난 10여 년 동안 “데이터 기반 사회”라는 구호는 대중매체와 정책문서에서 반복되며 마치 상식처럼 자리 잡았다. 그러나 정작 통계를 전문적으로 다루지 않는 다수에게 통계는 여전히 <strong>객관적 진실의 숫자</strong>로 받아들여진다. 측정 방법과 표본 설계, 모형 설정이라는 전제조건이 빠진채로 말이다. 이 글은 바로 그 지점을 질문한다.</p>
<p><strong>데이터는 누가 해석하고, 그 해석은 어떤 선택 위에 서 있는가?</strong></p>
<hr>
<p>통계를 둘러싼 대중적 오해를 간단히 정리해 보자.</p>
<ol type="1">
<li><strong>숫자는 사실이다?</strong> 숫자는 사실이 아니라 <em>측정</em>이다.</li>
<li><strong>표본은 전체를 대변한다?</strong> 샘플링 편향은 늘 존재한다.</li>
<li><strong>모형은 중립적이다?</strong> 모형은 연구자의 가정을 반영한다.</li>
</ol>
<p>이 세 가지는 통계를 “객관적 무오류의 지표”로 소비하게 만드는 위험한 환상을 드러낸다. 그리고 이 환상을 깨뜨릴 책임이 <a href="https://www.kostat.go.kr/">대한민국 통계청</a>에 있다.</p>
<section id="통계청의-미션과-데이터의-구조가-만나는-지점" class="level3">
<h3 class="anchored" data-anchor-id="통계청의-미션과-데이터의-구조가-만나는-지점">통계청의 미션과 “데이터의 구조”가 만나는 지점</h3>
<p>통계청의 사명은 (1) 국가 국가통계 발전을 선도하며, (2) 신뢰할 수 있는 통계를 생산하여 (3) 국민에게 유용한 통계데이터 서비스를 제공하는 것이다<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. 이 사명을 현실화하려면 최소한 세 단계의 ‘구조적’ 의사결정이 필요하다.</p>
<ul>
<li><strong>측정 구조</strong>: 무엇을 지표로 삼을 것인가?</li>
<li><strong>수집 구조</strong>: 어떻게 데이터를 모을 것인가?</li>
<li><strong>해석 구조</strong>: 어떤 모형과 가정 아래 의미를 부여할 것인가?</li>
</ul>
<p>통계청장은 이 세 구조가 일관된 설계로 이어지도록 조정·감독하는 최종 책임자다. 다시 말해, 행정능력만으로는 부족하며 모형의 한계를 인식하고 설계할 수 있는 전문성이 필수다.</p>
</section>
<section id="왜-경제학-중심이-되었을까" class="level3">
<h3 class="anchored" data-anchor-id="왜-경제학-중심이-되었을까">왜 “경제학 중심”이 되었을까?</h3>
<p>한국의 통계행정은 전통적으로 기획재정부 - 옛 경제기획원 - 와 가까웠다. 1970-80년대 산업화 과정에서 국민계정, 물가지수, 실업률처럼 거시경제 지표가 정책 결정의 핵심 도구였기 때문이다. 자연스럽게 경제학적 시각, 특히 계량경제학에 기반한 관점이 통계 조직을 지배했고 경제학 전공의 고위관료 또는 유관기관 경험자가 청장을 맡는 관성이 굳어졌다<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p>이 구조는 장점도 있다. 거시지표의 정책적 활용과 정부 재정운용 경험이 풍부하기 때문이다. 그러나 데이터 환경이 대전환을 맞은 2020년대에는 몇 가지 한계가 분명해진다.</p>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">변화</th>
<th>경제학 중심 체계의 한계</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">대용량·비정형 자료 (행정데이터·모바일·IOT)</td>
<td>확률표본·전통적 회귀 모형에 익숙한 인력으로는 처리·모형화·품질관리 역부족</td>
</tr>
<tr class="even">
<td style="text-align: left;">개인정보 보호·차등 프라이버시</td>
<td>법·제도와 알고리즘을 함께 이해해야 하는데 기술적 감수성이 부족</td>
</tr>
<tr class="odd">
<td style="text-align: left;">실시간 지표 및 예측</td>
<td>전산·클라우드·기계학습 인프라 설계 겅험이 필요하나 조직 내 전문성 편중</td>
</tr>
</tbody>
</table>
</section>
<section id="숫자는-선택의-산물" class="level3">
<h3 class="anchored" data-anchor-id="숫자는-선택의-산물">숫자는 선택의 산물</h3>
<p>나는 데이터를 구조로 보는 연구자이다. 리만 기하학 기반의 데이터 과학의 언저리에서 연구를 이어나가며 얻은 확신 중 하나는, 숫자는 언제나 특정한 모델, 특정한 공간 위에서 생성된 그림자라는 점이다. 이 점에서 전설적인 통계학자 <a href="https://en.wikipedia.org/wiki/George_E._P._Box">George Box</a>는 다음과 같은 말을 남겼다<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>:</p>
<blockquote class="blockquote">
<p>“모든 모델은 틀리다. 하지만 어떤 모델은 유용하다.”</p>
</blockquote>
<p>이 명언은 불확실성이라는 피할 수 없는 운명 앞에서 우리가 필연적으로 갖추게 되는 겸손을 나타낸다고 생각하지는 않는다. 그것은 모든 수치가 하나의 가정된 구조 위에서만 의미를 갖는다는 제한적인 인식의 발로가 아니었을까.</p>
<p>통계를 바라보는 관점은 다양하다. 경제학자는 인센티브와 시장구조, 거시지표 등을 통해 정책의 효과를 설명하거나 예측하는 모델에 집중한다. 통계학자는 추론의 전제의 정당성을 평가하고 불확실성을 계량하고자 한다. 요즘 각광받는(다고 알려진) 데이터 과학자는 대규모 데이터에서 패턴을 추출하고 계산 가능성과 확장성에 주목한다.</p>
<p>동일한 실업률이라도, 경제학자는 경기순환을 모델링하고, 통계학자는 최적 추정량을 고민하며, 데이터 과학자는 고해상도의 지역 및 시간별 패턴을 추출한다. 즉, 숫자를 생산하는 과정도, 숫자를 해석하는 언어도 서로 다르다. 그렇기에 이러한 세 관점이 동시에 작동해야만 지표가 맥락을 획득한다.</p>
</section>
<section id="해외는-어떻게-리더십을-설계할까" class="level3">
<h3 class="anchored" data-anchor-id="해외는-어떻게-리더십을-설계할까">해외는 어떻게 리더십을 설계할까?</h3>
<ul>
<li><strong>영국</strong>: 영국통계청(ONS)은 통계청장(UK Statistics Authority Chair)과 수석국장이 분리되어 있으며, 후자는 주로 통계학·사회통계학 출신이다. 독립성 확보를 위해 국회의 청문과 승인을 거친다.</li>
<li><strong>미국</strong>: 미국 인구조사국(US Census Bureau)의 국장은 조사통계·사회학·경제학 등 연구 경력이 핵심 자격으로 명시된다. 연방정부 내에는 데이터 과학 책임자(Chief Data Scientist)가 별도 직위로 존재한다<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</li>
<li><strong>독일</strong>: 독일 연방통계청은 통계학·IT 배경의 연구원들이 핵심 보직에 진출하며, 학계와 공동 연구를 제도화한다.</li>
</ul>
<p>공통점은 다양한 학제적 배경을 가진 전문가들을 리더십 체계에 투입하여 구조설계-품질관리-해석까지 하나의 유기적인 흐름으로 관리한다는 점이다.</p>
</section>
<section id="잡종적-사고가-필요한-이유" class="level3">
<h3 class="anchored" data-anchor-id="잡종적-사고가-필요한-이유">“잡종적 사고”가 필요한 이유</h3>
<p>21세기의 “통계” 시스템은 전통적인 표본조사 + 회귀분석 만으로는 설명되지 않는 문제를 안고 있다<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p>
<ol type="1">
<li>데이터 융합: 행정데이터·민간데이터·센서데이터를 결합할 때 발생하는 불일치, 결측, 그리고 중복을 어떻게 해결할 것인가.</li>
<li>알고리즘 편향: 기계학습 및 인공지능 기반 추정치가 특정 집단에 불리하게 작동할 위험은 어떻게 줄여야 할까.</li>
<li>실시간·고빈도 분석: 분초 단위의 관측치는 전통적 가정에서의 표본이라기 보다는 전체 모집단에 가까우느라 통계적 가정이 달라진다.</li>
</ol>
<p>몇 해 전, 서울대의 한 통계학 교수는 데이터 과학을 두고 “잡종(hybrid)”이라고 표현한 적이 있다. 나는 이 말이 폄하도, 찬양도 아니라고 생각한다. 기존 학문 분과의 경계를 넘나드는 데이터 과학의 융합적 성격을 정확히 진단한 것이다. 데이터 과학자는 (이상적으로는) 수학과 통계, 컴퓨팅을 묶어서 사고하며 위의 문제를 통합적으로 다룰 수 있는 ‘잡종적’ 역량을 갖춘다 (역시나 이상적으로 말이다). 여기서 잡종성은 단순히 스킬셋의 나열이 아닌, 서로 다른 방법론의 충돌을 조정하고 불확실성을 정량화하며 사회적 맥락으로 번역하는 능력을 일컫는다.</p>
<p>행정 고위직 및 경제학 전공자들은 정책의 맥락을 이해하고 거시지표를 해석하는데 탁월한 강점을 지닌다. 그러나 대규모 행정데이터의 품질관리, <a href="https://en.wikipedia.org/wiki/Differential_privacy">차등 프라이버시</a>를 활용한 보호기법의 설계, GPU 기반 기계학습 파이프라인 구축과 같이 통계청이 직면한 기술·윤리·계산 문제에는 경험이 부족하다.</p>
</section>
<section id="통계청-개편-논의와-리더십의-방향" class="level3">
<h3 class="anchored" data-anchor-id="통계청-개편-논의와-리더십의-방향">통계청 개편 논의와 리더십의 방향</h3>
<p>최근 <a href="https://www.khan.co.kr/article/202204011759011">정부</a>와 <a href="http://www.hkmd.kr/news/article.html?no=70541">국회</a>에서는 통계청을 통계데이터처로 확대·개편하는 방안을 검토해온 것으로 안다. 명칭 변경을 넘어 (1) 데이터 수집 및 품질관리 기능, (2) 분석 및 해석 기능, 그리고 (3) 정책연계 기능을 구분하여 전문성을 강화하겠다는 구상이다. 이런 구조개편이 실효를 거두려면 리더십 또한 데이터의 생애주기 전 과정 - 정의·측정·수집·해석 - 을 설계할 수 있는 전문가여야 하며 이는 경제학과 통계학, 컴퓨터 공학의 경계를 넘나드는 데이터 과학 리더십이 필요함을 의미한다.</p>
<p>마지막으로, 통계 혁신은 국민의 일상과 직결된다는 사실을 강조하고 싶다. 서울시의 경우 2010년대부터 이미 (이미는 흘러가버린 키워드인) 빅데이터를 이용하여 시민의 삶에 실질적인 영향을 미칠 수 있는 다양한 혁신 사례들을 만들어내는데 성공했다<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. 그렇기에 새로운 리더십은 데이터를 생산하고 관리하는데 그치지 않고, 데이터가 설명 책임을 다하고 그 가치를 실현할 수 있도록 소통해야 한다. 통계가 정책의 언어를 넘어 사회적 합의의 기반이 되려면, 숫자 뒤에 숨은 가정과 한계를 투명하게 드러내고 다양한 해석이 공존할 수 있는 토론의 장을 마련해야 한다. 그래야지만 사회적 가치를 창출하기 위한 기회들을 만들어낼 수 있다.</p>
<div id="refs" role="list">

</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><a href="https://www.kostat.go.kr/menu.es?mid=a10601000000">통계청 홈페이지 참고</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>이명박 정부 이래로 총 10명의 통계청장이 임명되었다. 행정고시 이후 유학을 통해 경영학 석사를 받은 사람은 2명, 경제학 박사를 받은 사람은 3명이다. 나머지 5명은 모두 학계에서 경제학 박사를 받으신 분들로서 그들의 전공 분야는 계량 경제학(1), 마르크스 경제학(1), 노동 경제학(2), 그리고 재정학(1)이다.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>통계학을 공부하며 이 말을 들어보지 못한 사람은 아마도 없을 것이다. 수업에서나 논문의 리비전에서도 정말 끝도 없이 나오는 걸 보면 아마도 맞는 말이 아닐까 싶다.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>이 글을 쓰는 시점에서는 그보다 더 나아가 정부효율부(Department of Government Efficiency; DOGE)를 통한 대대적인 개혁에 나서고 있는 형편이다.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>계량경제학의 영원한 친구 시계열 분석을 제대로 가르치는 통계학 학위 과정은 미국에서 많이 사라진 것으로 알고 있다. 물론, 나처럼 야매로 공부해서 가르치는 경우는 많지만.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p><a href="https://www.seoulsolution.kr/ko/content/%EB%B9%85%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%96%89%EC%A0%95%ED%98%81%EC%8B%A0">2015년 서울시 자료</a>를 살펴보자.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">© Kisung You 2021-2025</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>